import './polyfills.server.mjs';
import{E as u,Ea as _,K as d,O as c,Q as f,Va as M,Ya as h,da as n,ea as t,fa as l,gb as C,ia as s,ma as b,na as e,oa as m,pb as O,tb as P,w as g}from"./chunk-OUPS4ERU.mjs";import"./chunk-T55IDOPT.mjs";var x=class p{constructor(i,a,o,r,v){this.http=i;this.router=a;this.loadingService=o;this.cd=r;this.platformId=v}rootUserId=null;rootUserName=g("");dashboardData=g({domains:0,iamUsers:0});isMenuOpen=g(!1);ngOnInit(){if(h(this.platformId)){this.rootUserId=localStorage.getItem("rootUserId");let i=localStorage.getItem("rootUserName");if(i&&this.rootUserName.set(i),!this.rootUserId){this.router.navigate(["/auth-v1"]);return}this.fetchDashboardData()}}fetchDashboardData(){this.loadingService.show();let i=`http://localhost:8000/be/rootUser/dashboard?rootUser_id=${this.rootUserId}`;this.http.get(i,{responseType:"text"}).subscribe({next:a=>{this.loadingService.hide();let o=a.match(/Number of domains\s*:\s*(\d+)/i),r=a.match(/number of IAM users\s*all\s*domain\s*:\s*(\d+)/i);(o||r)&&this.dashboardData.set({domains:o?parseInt(o[1],10):0,iamUsers:r?parseInt(r[1],10):0}),this.cd.detectChanges()},error:a=>{this.loadingService.hide(),console.error("Error fetching dashboard data",a),this.cd.detectChanges()}})}toggleMenu(){this.isMenuOpen.set(!this.isMenuOpen())}onLogout(){h(this.platformId)&&localStorage.clear(),window.location.href="/auth-v1"}onEditProfile(){this.router.navigate(["/edit-profile-v7y"])}onCreateDomain(){this.router.navigate(["/new-domain-v8x"])}onViewAllDomains(){this.router.navigate(["/domain-explorer-v9z"])}static \u0275fac=function(a){return new(a||p)(c(C),c(O),c(P),c(_),c(u))};static \u0275cmp=f({type:p,selectors:[["app-root-dashboard"]],decls:77,vars:7,consts:[[1,"dashboard-wrapper"],[1,"navbar"],[1,"nav-container"],[1,"logo-area"],["src","assets/logo.png","alt","OfficeWing Logo",1,"logo"],[1,"nav-actions"],[1,"menu-toggle",3,"click"],[1,"material-symbols-rounded"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"dropdown-item","logout",3,"click"],[1,"main-content"],[1,"page-header"],[1,"user-greeting"],[1,"greeting-icon"],[1,"greeting-text"],[1,"username"],[1,"welcome-text"],[1,"subtitle"],[1,"dashboard-hub"],[1,"hub-section","stats"],[1,"hub-card","stat-item"],[1,"icon-wrapper","domains"],[1,"info"],[1,"value"],[1,"label"],[1,"icon-wrapper","users"],[1,"hub-divider"],[1,"hub-section","actions"],[1,"hub-card","action-item",3,"click"],[1,"card-left"],[1,"icon-box"],[1,"text-box"],[1,"material-symbols-rounded","arrow"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3),l(4,"img",4),t(),n(5,"div",5)(6,"button",6),s("click",function(){return o.toggleMenu()}),n(7,"span",7),e(8,"menu"),t()(),n(9,"div",8)(10,"button",9),s("click",function(){return o.onEditProfile()}),n(11,"span",7),e(12,"edit"),t(),e(13," Edit Profile "),t(),n(14,"button",10),s("click",function(){return o.onLogout()}),n(15,"span",7),e(16,"logout"),t(),e(17," Logout "),t()()()()(),n(18,"main",11)(19,"header",12)(20,"div",13)(21,"span",14),e(22,"\u{1F44B}"),t(),n(23,"span",15),e(24,"Welcome, "),n(25,"span",16),e(26),t()()(),n(27,"h1",17),e(28,"Root Dashboard"),t(),n(29,"p",18),e(30,"Centralized infrastructure management"),t()(),n(31,"div",19)(32,"div",20)(33,"div",21)(34,"div",22)(35,"span",7),e(36,"domain"),t()(),n(37,"div",23)(38,"span",24),e(39),t(),n(40,"span",25),e(41,"Total Domains"),t()()(),n(42,"div",21)(43,"div",26)(44,"span",7),e(45,"group"),t()(),n(46,"div",23)(47,"span",24),e(48),t(),n(49,"span",25),e(50,"IAM Users"),t()()()(),l(51,"div",27),n(52,"div",28)(53,"button",29),s("click",function(){return o.onCreateDomain()}),n(54,"div",30)(55,"div",31)(56,"span",7),e(57,"add_business"),t()(),n(58,"div",32)(59,"h3"),e(60,"Create Domain"),t(),n(61,"p"),e(62,"Initialize environment"),t()()(),n(63,"span",33),e(64,"arrow_forward"),t()(),n(65,"button",29),s("click",function(){return o.onViewAllDomains()}),n(66,"div",30)(67,"div",31)(68,"span",7),e(69,"list_alt"),t()(),n(70,"div",32)(71,"h3"),e(72,"View All Domains"),t(),n(73,"p"),e(74,"Manage infrastructure"),t()()(),n(75,"span",33),e(76,"arrow_forward"),t()()()()()()),a&2&&(d(6),b("active",o.isMenuOpen()),d(3),b("show",o.isMenuOpen()),d(17),m(o.rootUserName()),d(13),m(o.dashboardData().domains),d(9),m(o.dashboardData().iamUsers))},dependencies:[M],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#000;font-family:Inter,sans-serif;color:#fff}.dashboard-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.navbar[_ngcontent-%COMP%]{height:80px;background:#000;border-bottom:1px solid rgba(255,255,255,.12);position:sticky;top:0;z-index:1000}.navbar[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;height:100%;display:flex;justify-content:space-between;align-items:center;padding:0 1.5rem}.navbar[_ngcontent-%COMP%]   .logo-area[_ngcontent-%COMP%]{display:flex;align-items:center;background:transparent;padding:0;border:none}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:52px;width:auto;filter:drop-shadow(0 0 10px rgba(255,255,255,.15));transition:transform .4s cubic-bezier(.175,.885,.32,1.275)}@media(hover:hover){.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{transform:scale(1.08)}}.navbar[_ngcontent-%COMP%]   .nav-actions[_ngcontent-%COMP%]{position:relative}.navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{background:#141414;border:1px solid rgba(255,255,255,.12);color:#fff;width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s cubic-bezier(.16,1,.3,1);-webkit-tap-highlight-color:transparent}.navbar[_ngcontent-%COMP%]   .menu-toggle.active[_ngcontent-%COMP%]{background:#222;border-color:#555}@media(hover:hover){.navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{background:#222;border-color:#555}}.navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:active{background:#2a2a2a;transform:scale(.95)}.navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);right:0;background:#181818;border:1px solid rgba(255,255,255,.12);border-radius:12px;width:180px;box-shadow:0 20px 50px #000c;opacity:0;visibility:hidden;transform:translateY(8px);transition:all .3s cubic-bezier(.16,1,.3,1);overflow:hidden}.navbar[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:14px 20px;display:flex;align-items:center;gap:12px;background:none;border:none;color:#aaa;font-family:inherit;font-size:.9rem;cursor:pointer;transition:all .2s}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#ffffff14;color:#fff}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout[_ngcontent-%COMP%]{color:#ff5252;border-top:1px solid rgba(255,255,255,.05)}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout[_ngcontent-%COMP%]:hover{background:#ff525214}.main-content[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;width:100%;padding:3.5rem 1.5rem;box-sizing:border-box}.page-header[_ngcontent-%COMP%]{margin-bottom:3rem;text-align:center}.page-header[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;background:#ffffff0d;padding:6px 16px;border-radius:100px;border:1px solid rgba(255,255,255,.1);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_fadeInDown .6s cubic-bezier(.16,1,.3,1)}.page-header[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]   .greeting-icon[_ngcontent-%COMP%]{font-size:1.2rem}.page-header[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#aaa}.page-header[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-transform:capitalize}.page-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin-bottom:.5rem;letter-spacing:-.01em}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#aaa;font-size:1rem;opacity:.7}.dashboard-hub[_ngcontent-%COMP%]{background:#161616;border:1px solid rgba(255,255,255,.12);border-radius:32px;overflow:hidden;box-shadow:0 30px 80px #0009;display:flex;flex-direction:column;transition:all .4s ease}.dashboard-hub[_ngcontent-%COMP%]   .hub-section[_ngcontent-%COMP%]{padding:2.5rem;display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.dashboard-hub[_ngcontent-%COMP%]   .hub-section.stats[_ngcontent-%COMP%]{background:#ffffff05;border-bottom:1px solid rgba(255,255,255,.12)}.dashboard-hub[_ngcontent-%COMP%]   .hub-section.actions[_ngcontent-%COMP%]{background:#0000001a}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid rgba(255,255,255,.06);border-radius:24px;padding:1.8rem;display:flex;align-items:center;transition:all .3s cubic-bezier(.16,1,.3,1);position:relative;overflow:hidden}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:active{background:#ffffff1f!important;border-color:#ffffff4d!important}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:active   .icon-wrapper[_ngcontent-%COMP%], .dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:active   .icon-box[_ngcontent-%COMP%]{background:#fff!important}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:active   .icon-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:active   .icon-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000!important}@media(hover:hover){.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:hover{background:#ffffff14;border-color:#fff3;transform:translateY(-4px);box-shadow:0 10px 30px #0000004d}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%], .dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:hover   .icon-box[_ngcontent-%COMP%]{transform:scale(1.1);background:#fff!important}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]:hover   .icon-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000!important}}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]{gap:1.5rem}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:16px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;transition:all .3s}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .icon-wrapper.domains[_ngcontent-%COMP%]{color:#3498db;background:#3498db1a}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .icon-wrapper.users[_ngcontent-%COMP%]{color:#2ecc71;background:#2ecc711a}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;line-height:1.2}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#aaa;font-weight:600;text-transform:uppercase;letter-spacing:.06em;margin-top:2px}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]{justify-content:space-between;cursor:pointer;text-align:left;width:100%;outline:none;border-style:solid}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .card-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;background:#ffffff0f;display:flex;align-items:center;justify-content:center;transition:all .3s}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;color:#fff}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600;margin-bottom:.3rem;color:#fff}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#aaa}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:#fff3;font-size:24px;transition:all .3s}@media(hover:hover){.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{transform:translate(6px);color:#fff}}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]:active   .arrow[_ngcontent-%COMP%]{color:#fff;transform:translate(4px)}@media(max-width:768px){.navbar[_ngcontent-%COMP%]{height:70px}.navbar[_ngcontent-%COMP%]   .logo-area[_ngcontent-%COMP%]{padding:0;background:transparent;border:none}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:32px}.main-content[_ngcontent-%COMP%]{padding:2rem 1rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:1.8rem}.dashboard-hub[_ngcontent-%COMP%]{border-radius:24px}.dashboard-hub[_ngcontent-%COMP%]   .hub-section[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1.25rem;gap:.75rem}.dashboard-hub[_ngcontent-%COMP%]   .hub-card[_ngcontent-%COMP%]{padding:1.25rem;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none;cursor:pointer;transform:none!important}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.stat-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:48px;height:48px}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}.dashboard-hub[_ngcontent-%COMP%]   .hub-card.action-item[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})};export{x as RootDashboard};
